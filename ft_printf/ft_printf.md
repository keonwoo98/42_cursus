# **ft_printf**

> printf 함수를 구현하기 위해 필요한 지식들

## 1. **가변인자(variable argument)**

가변인자란 인자에 대해서 가변적으로 작동을 한다는 것이고 대표적인 가변인자 함수는 `printf`와 `scanf`등이 있다. 가변인자는 보통 고정적으로 사용하는 인자 다음에 `...`형식으로 작성하게 되고 가변인자에 대한 함수가 선언이 된 헤더 `stdarg.h`를 include한다.

* **va_list(types)**
    
    가변인자의 목록이자 가변인자의 메모리 주소를 저장하는 포인터이다.

* **va_start(macro)**

    가변인자의 초기화를 담당하는 매크로이다.

    `va_start(ap, args)`와 같은 형태로 사용하고 여기서 `ap`는 가변인자를 저장하는 변수(va_list), `args`은 마지막 고정인수이다.

    매크로 내부에서는 `args`를 기준으로 그 다음 메모리 pointer로 초기화 한다.

* **va_arg(macro)**

    가변인자의 값을 가져오는 매크로이다.

    `va_arg(ap, type)`와 같은 형태로 사용하고 `ap`는 가변인자를 저장하는 변수(va_list), type은 가져오게 되는 변수의 Type이다. 내부적으로 ap에서 type만큼의 값을 읽어오고 ap에는 `sizeof(type)`만큼의 포인터를 이동하여 저장한다.

* **va_copy(macro)**

* **va_end(macro)**

    ap(va_list)에 들어있는 포인터를 참조하여 초기화 시켜주는 매크로이다.

    대부분의 구현에서는 `#define va_end(AP)((void)0)`형태로 아무 작업을 하지 않지만 일부 플랫폼에서는 문제가 발생하기 때문에 같이 사용하는 것이 권장된다.